<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Westminster Pints Exchange</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="styles.css?v=10">
</head>

<body>

  <!-- HEADER -->
  <header class="top-header">
    <h1>ğŸ» Westminster Pints Exchange</h1>
    <p class="subtitle">Real-time pint prices across Westminster Village</p>
  </header>

  <!-- CHEAPEST PINT BANNER -->
  <section id="cheapestBanner" class="cheapest-banner">
    <div id="cheapestBannerText">Finding cheapest pintâ€¦</div>
  </section>

  <!-- METRIC CARDS ROW -->
  <section class="metric-row">

    <div class="metric-card" id="popularPintCard">
      <h3>ğŸº Most Popular Today</h3>
      <div id="popularPintValue" class="metric-small">â€”</div>
    </div>

    <div class="metric-card" id="weeklyTypesCard">
      <h3>ğŸ“Š Top Types This Week</h3>
      <div id="weeklyTypesValue" class="metric-small">â€”</div>
    </div>

    <div class="metric-card" id="moneyInvestedCard">
      <h3>ğŸ’° Money in PINX</h3>
      <div id="moneyInvestedValue" class="metric-small">â€”</div>
    </div>

  </section>

  <!-- LIVE TICKER -->
  <section id="liveTicker" class="ticker">
    <div id="tickerText">Loading market activityâ€¦</div>
  </section>

  <!-- MAIN CONTENT -->
  <main class="content">

    <!-- ADD PINT PRICE (Moved up, redesigned) -->
    <section class="card" id="addPintCard">
      <h2>ğŸº Add Pint Price</h2>

      <label>Pub:</label>
      <select id="pintPubSelect"></select>

      <label>Pint Name:</label>
      <select id="pintNameSelect"></select>

      <label>Pint Type:</label>
      <select id="pintTypeSelect">
        <option value="Lager">Lager</option>
        <option value="Ale">Ale</option>
        <option value="IPA">IPA</option>
        <option value="Cider">Cider</option>
        <option value="Guinness">Guinness</option>
      </select>

      <label>Price (Â£):</label>
      <input id="pintPriceInput" type="number" step="0.01">

      <button id="addPintPriceBtn">Add Pint Price ğŸ’·</button>
    </section>

    <!-- ADD NEW PINT NAME -->
    <section class="card" id="addPintNameCard">
      <h2>â• Add New Pint Name</h2>
      <input id="newPintNameInput" placeholder="e.g. Peroni">
      <button id="addPintNameBtn">Add Pint Name ğŸº</button>
    </section>

    <!-- LEFT COLUMN (desktop) -->
    <div class="columns">

      <div class="col-left">

        <!-- PINX INDEX -->
        <section class="card" id="pinxCard">
          <h2>ğŸ“ˆ PINX Index</h2>
          <div id="pinxValue" class="metric">â€”</div>
          <p class="subnote">The PINX tracks the average price of pints across Westminster.</p>
        </section>

        <!-- TOP WEEKLY TYPES GRAPH -->
        <section class="card" id="weeklyTypeGraphCard">
          <h2>ğŸ“Š Top Pint Types This Week</h2>
          <div id="weeklyTypeBars"></div>
        </section>

        <!-- BUDGET HELPER -->
        <section class="card" id="budgetHelperCard">
          <h2>ğŸ‘› Pint Budget Helper</h2>

          <label>Daily Budget (Â£):</label>
          <input id="budgetInput" type="number">

          <label>Max Price (Â£):</label>
          <input id="budgetMaxInput" type="number">

          <button id="saveBudgetBtn">Save Budget</button>

          <div id="budgetOutput"></div>
        </section>

        <!-- ADD PUB -->
        <section class="card" id="addPubCard">
          <h2>â• Add Pub</h2>
          <input id="pubNameInput" placeholder="Pub name">
          <button id="addPubBtn">Add Pub ğŸ›ï¸</button>
        </section>

      </div>

      <!-- RIGHT COLUMN (desktop) -->
      <div class="col-right">

        <!-- PUB LEAGUE -->
        <section class="card" id="pubLeagueCard">
          <h2>ğŸ“Š Pub League</h2>

          <label>Filter by Pint Type:</label>
          <select id="leagueFilter">
            <option value="all">All Types</option>
            <option value="Lager">Lager</option>
            <option value="Ale">Ale</option>
            <option value="IPA">IPA</option>
            <option value="Cider">Cider</option>
            <option value="Guinness">Guinness</option>
          </select>

          <h3>Top 5 Cheapest</h3>
          <div id="topCheapest" class="pub-grid"></div>

          <h3>Top 5 Most Expensive</h3>
          <div id="topExpensive" class="pub-grid"></div>

          <button id="showAllPubsBtn">Show All â–¼</button>
          <div id="allPubsGrid" class="pub-grid" style="display:none;"></div>
        </section>

        <!-- RECENT FEED -->
        <section class="card" id="recentFeedCard">
          <h2>ğŸ“° Recent Submissions</h2>
          <div id="recentFeed"></div>
        </section>

      </div>

    </div><!-- columns end -->

  </main>

  <!-- MOBILE NAV -->
  <nav class="bottom-nav">
    <div class="nav-item" onclick="scrollToId('addPintCard')">ğŸº<div>Add</div></div>
    <div class="nav-item" onclick="scrollToId('pubLeagueCard')">ğŸ“Š<div>League</div></div>
    <div class="nav-item" onclick="scrollToId('recentFeedCard')">ğŸ“°<div>Feed</div></div>
  </nav>

  <!-- TOAST -->
  <div id="toast" class="toast"></div>

  <!-- SCRIPTS -->
  <script type="module" src="app.js?v=10"></script>
  <script>
    function scrollToId(id){
      document.getElementById(id).scrollIntoView({behavior:"smooth"});
    }
  </script>

</body>
</html>
